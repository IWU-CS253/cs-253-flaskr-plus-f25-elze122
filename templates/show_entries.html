{% extends "layout.html" %}
{% block body %}
  <form action="{{ url_for('add_entry') }}" method="post" class="add-entry">
    <dl>
      <dt>Title:
      <dd><input type="text" size="30" name="title">
      <dt>Category:
      <dd><input type="text" size="30" name="category">
      <dt>Text:
      <dd><textarea name="text" rows="5" cols="40"></textarea>
      <dd><input type="submit" value="Share">
    </dl>
  </form>
  <ul class="entries">
  <form action="{{ url_for('show_entries') }}" method="get">
      <input name="filter" list="categories" placeholder="Category">
      <datalist id="categories">
          {% for entry in entries %}
            <option value="{{ entry.category }}">
          {% endfor %}
      </datalist>
      <button type="submit">Filter</button>
      <a href="{{ url_for('show_entries') }}"><button type="button">Reset</button></a>
  </form>
  {% for entry in entries %}
    <li><h2>{{ entry.title }}</h2><h4>{{ entry.category }}</h4>{{ entry.text|safe }}</li>
    <li><form action="/delete_entry" method="post">
        <input name="id" type="hidden" value="{{ entry.id }}">
        <button type="submit">Delete</button>
    </form></li>
  {% else %}
    <li><em>Unbelievable.  No entries here so far</em></li>
  {% endfor %}
  </ul>
{% endblock %}
